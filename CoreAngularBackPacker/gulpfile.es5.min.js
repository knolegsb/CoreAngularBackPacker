"use strict";var gulp=require("gulp"),gp_clean=require("gulp-clean"),gp_concat=require("gulp-concat"),gp_less=require("gulp-less"),gp_sourcemaps=require("gulp-sourcemaps"),gp_typescript=require("gulp-typescript"),gp_uglify=require("gulp-uglify"),srcPaths={app:["Scripts/app/main.ts","Scripts/app/**/*.ts"],js:["Scripts/js/**/*.js","node_modules/core-js/client/shim.min.js","node_modules/zone.js/dist/zone.js","node_modules/reflect-metadata/Reflect.js","node_modules/systemjs/dist/system.src.js","node_modules/typescript/lib/typescript.js","node_modules/ng2-bootstrap/bundles/ng2-bootstrap.min.js","node_modules/moment/moment.js"],js_angular:["node_modules/@angular/**"],js_rxjs:["node_modules/rxjs/**"]},destPaths={app:"wwwroot/app/",css:"wwwroot/css/",js:"wwwroot/js/",js_angular:"wwwroot/js/@angular/",js_rxjs:"wwwroot/js/rxjs/"};gulp.task("app",["app_clean"],function(){return gulp.src(srcPaths.app).pipe(gp_sourcemaps.init()).pipe(gp_typescript(require("./tsconfig.json").compilerOptions)).pipe(gp_uglify({mangle:!1})).pipe(gp_sourcemaps.write("/")).pipe(gulp.dest(destPaths.app))});gulp.task("app_clean",function(){return gulp.src(destPaths.app+"*",{read:!1}).pipe(gp_clean({force:!0}))});gulp.task("js_clean",function(){return gulp.src(destPaths.js+"*",{read:!1}).pipe(gp_clean({force:!0}))});gulp.task("js",function(){return gulp.src(srcPaths.js_angular).pipe(gulp.dest(destPaths.js_angular)),gulp.src(srcPaths.js_rxjs).pipe(gulp.dest(destPaths.js_rxjs)),gulp.src(srcPaths.js).pipe(gulp.dest(destPaths.js))});gulp.task("watch",function(){gulp.watch([srcPaths.app,srcPaths.js],["app","js"])});gulp.task("default",["app","js","watch"]);